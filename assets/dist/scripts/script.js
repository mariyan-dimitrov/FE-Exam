"use strict";function dx_alm(r){var c=r(window),l=r(document);return{layoutInfiniteScroll:function(t){var e=!1,o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function n(){o?c.scrollTop()+c.height()+t>=l.height()-window.visualViewport.height&&!e&&(l.trigger("dx_bottomReached"),e=!0,i()):c.scrollTop()+c.height()+t>=l.height()&&!e&&(l.trigger("dx_bottomReached"),e=!0,i())}function i(){setTimeout(function(){e=!1,n()},700)}l.on("appendContentAfter",function(t,e,o){r(e).append(o)}),c.on("scroll",function(){n()})},layoutGallery:function(){l.on("replaceContent",function(t,e,o){r(e).empty(),r(e).append(o)})}}}function refreshAds(n,t){n.fn.isOnScreen=function(){var t=n(window),e={top:t.scrollTop(),left:t.scrollLeft()};e.right=e.left+t.width(),e.bottom=e.top+t.height();var o=this.offset();return o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(e.right<o.left||e.left>o.right||e.bottom<o.top||e.top>o.bottom)};var e=n(window),o=!0,i=!0;function r(){setTimeout(function(){o=!1,console.log("checking for ads allowed"),c()},13e3)}function c(){clearTimeout(n.data(this,"scrollTimer")),n.data(this,"scrollTimer",setTimeout(function(){!o&&i&&(n(t).each(function(){n(this).isOnScreen()&&(i=!(o=!0),n(document).trigger("refreshAd",[n(this).attr("id")]),console.log('refreshed ad and event triggered: "refreshAd"'))}),o&&r()),console.log("Haven't scrolled in 2s!")},2e3))}e.on("scroll",function(){i=!0,c()}),r()}dx_alm($).layoutInfiniteScroll(0),$(document).on("dx_bottomReached",function(t,e){$.getJSON("./data.json",function(t){$(document).trigger("appendContentAfter",[".site__content",t.html])})});